<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üá¨üáß Lond√Ωnsk√Ω Itiner√°≈ô - Interaktivn√≠ Mapa</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #012169 0%, #DC143C 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            text-align: center;
        }
        
        h1 {
            color: #012169;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .trip-info {
            color: #666;
            font-size: 1.1em;
        }
        
        /* Day selector */
        .day-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }
        
        .day-btn {
            padding: 15px 25px;
            background: white;
            border: 3px solid #DC143C;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            color: #012169;
            transition: all 0.3s;
        }
        
        .day-btn:hover {
            background: #DC143C;
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(220, 20, 60, 0.4);
        }
        
        .day-btn.active {
            background: #DC143C;
            color: white;
        }
        
        /* Main content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        /* Map */
        #map {
            height: 700px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        /* Places list */
        .places-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-height: 700px;
            overflow-y: auto;
        }
        
        .place-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 5px solid #DC143C;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .place-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .place-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .place-emoji {
            font-size: 2em;
        }
        
        .place-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #012169;
            flex: 1;
        }
        
        .place-time {
            color: #DC143C;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .place-metro {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        
        .place-price {
            background: #DC143C;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .transport-info {
            background: #f0f8ff;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            border-left: 3px solid #012169;
            font-size: 0.9em;
        }
        
        .transport-info strong {
            color: #012169;
        }
        
        /* Notes section */
        .notes-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px dashed #ddd;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 8px 0;
            cursor: pointer;
        }
        
        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .checkbox-group label {
            cursor: pointer;
            font-weight: 500;
        }
        
        .checkbox-group.want-visit {
            color: #DC143C;
        }
        
        .checkbox-group.visited {
            color: #28a745;
        }
        
        .note-textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            font-size: 0.9em;
            margin-top: 8px;
            resize: vertical;
            min-height: 60px;
        }
        
        .note-textarea:focus {
            outline: none;
            border-color: #DC143C;
        }
        
        .save-note-btn {
            background: #012169;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 8px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .save-note-btn:hover {
            background: #DC143C;
            transform: translateY(-2px);
        }
        
        .saved-note {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin-top: 8px;
            border-left: 3px solid #ffc107;
        }
        
        /* Legend */
        .legend {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .legend-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #012169;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 5px 0;
        }
        
        .legend-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #012169;
        }
        
        /* Map markers */
        .custom-marker {
            background: white;
            border: 2px solid #012169;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }
        
        .transport-marker {
            background: white;
            border: 2px solid #DC143C;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .transport-marker:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(220, 20, 60, 0.5);
        }
        
        .hotel-marker {
            background: #DC143C;
            border: 2px solid white;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üá¨üáß Lond√Ωnsk√Ω Itiner√°≈ô</h1>
            <div class="trip-info">
                13.-16. √∫nora 2026 | Linden House Hotel, Westminster | 3 osoby
            </div>
        </header>
        
        <div class="day-selector">
            <button class="day-btn active" onclick="showDay(0)">
                ƒåTVRTEK 13.2.
            </button>
            <button class="day-btn" onclick="showDay(1)">
                P√ÅTEK 14.2.
            </button>
            <button class="day-btn" onclick="showDay(2)">
                SOBOTA 15.2.
            </button>
            <button class="day-btn" onclick="showDay(3)">
                NEDƒöLE 16.2.
            </button>
        </div>
        
        <div class="main-content">
            <div>
                <div id="map"></div>
                <div class="legend">
                    <div class="legend-title">üó∫Ô∏è Legenda</div>
                    <div class="legend-item">
                        <div class="legend-icon hotel-marker">üè®</div>
                        <span>Hotel (start/konec)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-icon">üìç</div>
                        <span>M√≠sta v itiner√°≈ôi</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-icon transport-marker">üöá</div>
                        <span>Transport info (klikni!)</span>
                    </div>
                </div>
            </div>
            
            <div class="places-container" id="places-list">
                <!-- Places will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // DATA
        const DAYS = {
            0: {
                name: "ƒåTVRTEK 13.2. - Den 0 (P≈ô√≠jezd)",
                places: [
                    {
                        id: 1,
                        name: "London Eye",
                        emoji: "üé°",
                        time: "19:00-20:00",
                        address: "Riverside Building, County Hall, SE1 7PB",
                        gps: [51.5033, -0.1195],
                        metro: "Waterloo (5 min walk)",
                        price: "¬£32-38",
                        description: "Ob≈ô√≠ rusk√© kolo 135m, veƒçern√≠ v√Ωhled",
                        transport: "üö∂ Pƒõ≈°ky pod√©l South Bank (5 min, 400m)"
                    },
                    {
                        id: 2,
                        name: "Veƒçe≈ôe u London Eye",
                        emoji: "üçΩÔ∏è",
                        time: "20:15-21:30",
                        address: "South Bank, SE1",
                        gps: [51.5045, -0.1189],
                        metro: "Waterloo (5 min walk)",
                        price: "¬£20-35",
                        description: "Restaurace s v√Ωhledem na Tem≈æi"
                    }
                ]
            },
            1: {
                name: "P√ÅTEK 14.2. - Den 1",
                places: [
                    {
                        id: 3,
                        name: "British Library",
                        emoji: "üìö",
                        time: "08:30-10:00",
                        address: "96 Euston Road, NW1 2DB",
                        gps: [51.5297, -0.1276],
                        metro: "King's Cross St Pancras (5 min walk)",
                        price: "ZDARMA",
                        description: "Magna Carta, Beatles rukopisy",
                        transport: "üöá Metro King's Cross ‚Üí South Kensington (Piccadilly Line, 20 min)"
                    },
                    {
                        id: 4,
                        name: "Natural History Museum",
                        emoji: "ü¶ï",
                        time: "10:30-13:00",
                        address: "Cromwell Road, SW7 5BD",
                        gps: [51.4967, -0.1764],
                        metro: "South Kensington (7 min walk)",
                        price: "ZDARMA",
                        description: "Modr√° velryba, dinosau≈ôi",
                        transport: "üö∂ Pƒõ≈°ky po Exhibition Road (2 min, 200m)"
                    },
                    {
                        id: 5,
                        name: "Obƒõd",
                        emoji: "ü•ó",
                        time: "13:00-14:00",
                        address: "South Kensington area",
                        gps: [51.4945, -0.1748],
                        metro: "South Kensington (2 min walk)",
                        price: "¬£10-15",
                        description: "V&A Museum Cafe",
                        transport: "üöá Metro South Kensington ‚Üí Baker Street (Circle/District Line, 12 min)"
                    },
                    {
                        id: 6,
                        name: "Madame Tussauds",
                        emoji: "üé≠",
                        time: "14:30-17:00",
                        address: "Marylebone Road, NW1 5LR",
                        gps: [51.5229, -0.1547],
                        metro: "Baker Street (2 min walk)",
                        price: "¬£37",
                        description: "Voskov√© figur√≠ny, Marvel 4D",
                        transport: "üö∂ Pƒõ≈°ky k Regent's Park (8 min, 600m)"
                    },
                    {
                        id: 7,
                        name: "Regent's Park",
                        emoji: "üå≥",
                        time: "17:30-19:00",
                        address: "Chester Road, NW1 4NR",
                        gps: [51.5313, -0.1570],
                        metro: "Regent's Park / Baker Street",
                        price: "ZDARMA",
                        description: "Kr√°lovsk√Ω park - VOLITELN√â",
                        transport: "üö∂ Pƒõ≈°ky k restauraci (12 min, 900m)"
                    },
                    {
                        id: 8,
                        name: "Fish & Chips - The Golden Hind",
                        emoji: "üêü",
                        time: "19:30-21:00",
                        address: "73 Marylebone Lane, W1U 2PN",
                        gps: [51.5178, -0.1504],
                        metro: "Bond Street (5 min walk)",
                        price: "¬£12-18",
                        description: "Tradiƒçn√≠ Fish & Chips"
                    }
                ]
            },
            2: {
                name: "SOBOTA 15.2. - Den 2",
                places: [
                    {
                        id: 9,
                        name: "Breakfast Club Soho",
                        emoji: "ü•û",
                        time: "09:00-10:00",
                        address: "33 D'Arblay Street, W1F 8EU",
                        gps: [51.5136, -0.1349],
                        metro: "Oxford Circus (5 min walk)",
                        price: "¬£10-15",
                        description: "Americk√Ω styl sn√≠danƒõ",
                        transport: "üöá Metro Oxford Circus ‚Üí Tower Hill (Central + District/Circle, 25 min)"
                    },
                    {
                        id: 10,
                        name: "Tower of London - venku",
                        emoji: "üè∞",
                        time: "10:30-11:30",
                        address: "St Katharine's & Wapping, EC3N 4AB",
                        gps: [51.5081, -0.0759],
                        metro: "Tower Hill (2 min walk)",
                        price: "ZDARMA",
                        description: "Pohled zvenku, fotky",
                        transport: "üö∂ Pƒõ≈°ky pod√©l Tem≈æe (5 min, 400m)"
                    },
                    {
                        id: 11,
                        name: "Tower Bridge",
                        emoji: "üåâ",
                        time: "11:30-12:15",
                        address: "Tower Bridge Road, SE1 2UP",
                        gps: [51.5055, -0.0754],
                        metro: "Tower Hill (5 min walk)",
                        price: "ZDARMA",
                        description: "Ikonick√Ω most",
                        transport: "üö∂ Pƒõ≈°ky p≈ôes most (10 min, 800m)"
                    },
                    {
                        id: 12,
                        name: "Borough Market",
                        emoji: "üç¥",
                        time: "12:30-14:00",
                        address: "8 Southwark Street, SE1 1TL",
                        gps: [51.5054, -0.0910],
                        metro: "London Bridge (5 min walk)",
                        price: "¬£12-20",
                        description: "Food market, street food",
                        transport: "üöá Metro London Bridge ‚Üí Victoria (Victoria Line, 10 min)"
                    },
                    {
                        id: 13,
                        name: "Muzik√°l Hamilton",
                        emoji: "üé≠",
                        time: "14:00-16:30",
                        address: "Victoria Palace Theatre, Victoria Street",
                        gps: [51.4971, -0.1449],
                        metro: "Victoria (2 min walk)",
                        price: "¬£85",
                        description: "West End muzik√°l",
                        transport: "üö∂ Pƒõ≈°ky p≈ôes St James's Park (15 min, 1.2 km)"
                    },
                    {
                        id: 14,
                        name: "Buckingham Palace",
                        emoji: "üëë",
                        time: "17:00-18:30",
                        address: "Spur Road, SW1A 1AA",
                        gps: [51.5014, -0.1419],
                        metro: "Victoria / Green Park (10 min walk)",
                        price: "ZDARMA",
                        description: "Kr√°lovsk√Ω pal√°c",
                        transport: "üöá Metro Green Park ‚Üí Leicester Square (Piccadilly Line, 5 min)"
                    },
                    {
                        id: 15,
                        name: "Chinatown - veƒçe≈ôe",
                        emoji: "ü•ü",
                        time: "19:30-21:00",
                        address: "Gerrard Street, W1D",
                        gps: [51.5113, -0.1312],
                        metro: "Leicester Square (2 min walk)",
                        price: "¬£15-25",
                        description: "Asijsk√° kuchynƒõ",
                        transport: "üö∂ Pƒõ≈°ky (5 min, 400m)"
                    },
                    {
                        id: 16,
                        name: "Leicester Square & Piccadilly",
                        emoji: "üé™",
                        time: "21:15-22:00",
                        address: "Leicester Square, WC2H",
                        gps: [51.5101, -0.1318],
                        metro: "Leicester Square",
                        price: "ZDARMA",
                        description: "Neonov√© reklamy, noƒçn√≠ atmosf√©ra"
                    }
                ]
            },
            3: {
                name: "NEDƒöLE 16.2. - Den 3 (Odjezd)",
                places: [
                    {
                        id: 17,
                        name: "Sn√≠danƒõ & Check-out",
                        emoji: "üè®",
                        time: "07:00-08:30",
                        address: "Linden House Hotel",
                        gps: [51.4975, -0.1357],
                        metro: "Victoria",
                        price: "INCLUDED",
                        description: "Hotel sn√≠danƒõ, zabalen√≠"
                    },
                    {
                        id: 18,
                        name: "Cesta na Luton Airport",
                        emoji: "üöå",
                        time: "09:00-10:30",
                        address: "London ‚Üí Luton Airport",
                        gps: [51.8747, -0.3683],
                        metro: "N/A",
                        price: "¬£15-20",
                        description: "National Express bus nebo Thameslink train"
                    },
                    {
                        id: 19,
                        name: "Odlet do Prahy",
                        emoji: "‚úàÔ∏è",
                        time: "15:05",
                        address: "London Luton Airport",
                        gps: [51.8747, -0.3683],
                        metro: "N/A",
                        price: "ZAPLACENO",
                        description: "Let dom≈Ø üá®üáø"
                    }
                ]
            }
        };
        
        const HOTEL_GPS = [51.4975, -0.1357];
        
        // LocalStorage pro pozn√°mky
        function saveNotes() {
            const notes = {};
            document.querySelectorAll('.place-card').forEach(card => {
                const id = card.dataset.placeId;
                const wantVisit = card.querySelector('.want-visit-checkbox')?.checked || false;
                const visited = card.querySelector('.visited-checkbox')?.checked || false;
                const noteText = card.querySelector('.note-textarea')?.value || '';
                
                notes[id] = { wantVisit, visited, noteText };
            });
            localStorage.setItem('london_notes', JSON.stringify(notes));
        }
        
        function loadNotes() {
            const saved = localStorage.getItem('london_notes');
            return saved ? JSON.parse(saved) : {};
        }
        
        // Map
        let map;
        let markers = [];
        let polylines = [];
        
        function initMap() {
            map = L.map('map').setView([51.5074, -0.1278], 12);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);
        }
        
        function clearMarkers() {
            markers.forEach(marker => map.removeLayer(marker));
            polylines.forEach(line => map.removeLayer(line));
            markers = [];
            polylines = [];
        }
        
        function showDay(dayNum) {
            document.querySelectorAll('.day-btn').forEach((btn, idx) => {
                btn.classList.toggle('active', idx === dayNum);
            });
            
            const day = DAYS[dayNum];
            clearMarkers();
            
            // Hotel marker (except day 3)
            if (dayNum !== 3) {
                const hotelMarker = L.marker(HOTEL_GPS, {
                    icon: L.divIcon({
                        html: 'üè®',
                        className: 'custom-marker hotel-marker',
                        iconSize: [30, 30]
                    })
                }).addTo(map);
                
                hotelMarker.bindPopup('<b>üè® Linden House Hotel</b><br>Victoria, Westminster<br>START & KONEC dne');
                markers.push(hotelMarker);
            }
            
            // Place markers and transport
            let prevGPS = dayNum !== 3 ? HOTEL_GPS : null;
            
            day.places.forEach((place, idx) => {
                // Place marker
                const marker = L.marker(place.gps, {
                    icon: L.divIcon({
                        html: place.emoji,
                        className: 'custom-marker',
                        iconSize: [30, 30]
                    })
                }).addTo(map);
                
                marker.bindPopup(`
                    <b>${place.emoji} ${place.name}</b><br>
                    ‚è∞ ${place.time}<br>
                    üöá ${place.metro}<br>
                    üí∞ ${place.price}
                `);
                
                marker.on('click', () => {
                    document.getElementById(`place-${place.id}`).scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                });
                
                markers.push(marker);
                
                // Transport line and marker
                if (prevGPS) {
                    const line = L.polyline([prevGPS, place.gps], {
                        color: '#DC143C',
                        weight: 4,
                        opacity: 0.8,
                        dashArray: '10, 5'
                    }).addTo(map);
                    polylines.push(line);
                    
                    if (place.transport) {
                        const midpoint = [
                            (prevGPS[0] + place.gps[0]) / 2,
                            (prevGPS[1] + place.gps[1]) / 2
                        ];
                        
                        const transportMarker = L.marker(midpoint, {
                            icon: L.divIcon({
                                html: 'üöá',
                                className: 'transport-marker',
                                iconSize: [24, 24]
                            }),
                            zIndexOffset: 1000
                        }).addTo(map);
                        
                        transportMarker.bindPopup(`
                            <div style="font-size: 13px; max-width: 200px;">
                                <b>‚¨áÔ∏è Jak se dostat d√°l:</b><br>
                                ${place.transport}
                            </div>
                        `);
                        
                        markers.push(transportMarker);
                    }
                }
                
                prevGPS = place.gps;
            });
            
            // Return to hotel line
            if (dayNum !== 3 && day.places.length > 0) {
                const lastPlace = day.places[day.places.length - 1];
                const returnLine = L.polyline([lastPlace.gps, HOTEL_GPS], {
                    color: '#012169',
                    weight: 4,
                    opacity: 0.8,
                    dashArray: '10, 5'
                }).addTo(map);
                polylines.push(returnLine);
                
                const midpoint = [
                    (lastPlace.gps[0] + HOTEL_GPS[0]) / 2,
                    (lastPlace.gps[1] + HOTEL_GPS[1]) / 2
                ];
                
                let returnTransport = "";
                if (dayNum === 0) {
                    returnTransport = "üöá Metro Waterloo ‚Üí Victoria<br>Victoria/Jubilee Line<br>‚è±Ô∏è 5 min";
                } else if (dayNum === 1) {
                    returnTransport = "üöá Metro Bond Street ‚Üí Victoria<br>Victoria/Jubilee Line<br>‚è±Ô∏è 8 min";
                } else if (dayNum === 2) {
                    returnTransport = "üöá Metro Leicester Square ‚Üí Victoria<br>Victoria Line<br>‚è±Ô∏è 5 min";
                }
                
                const returnMarker = L.marker(midpoint, {
                    icon: L.divIcon({
                        html: 'üè®',
                        className: 'transport-marker',
                        iconSize: [24, 24]
                    }),
                    zIndexOffset: 1000
                }).addTo(map);
                
                returnMarker.bindPopup(`
                    <div style="font-size: 13px; max-width: 200px;">
                        <b>üè® ZPƒöT DO HOTELU:</b><br>
                        ${returnTransport}
                    </div>
                `);
                
                markers.push(returnMarker);
            }
            
            displayPlaces(day);
            
            if (markers.length > 0) {
                const group = new L.featureGroup(markers);
                map.fitBounds(group.getBounds().pad(0.1));
            }
        }
        
        function displayPlaces(day) {
            const container = document.getElementById('places-list');
            const notes = loadNotes();
            
            container.innerHTML = `<h2 style="color: #012169; margin-bottom: 20px;">${day.name}</h2>`;
            
            day.places.forEach((place, idx) => {
                const placeNotes = notes[place.id] || {};
                
                const card = document.createElement('div');
                card.className = 'place-card';
                card.id = `place-${place.id}`;
                card.dataset.placeId = place.id;
                
                card.innerHTML = `
                    <div class="place-header">
                        <span class="place-emoji">${place.emoji}</span>
                        <span class="place-name">${idx + 1}. ${place.name}</span>
                    </div>
                    <div class="place-time">‚è∞ ${place.time}</div>
                    <div class="place-metro">üöá ${place.metro}</div>
                    <div class="place-price">${place.price}</div>
                    <p style="margin: 10px 0; color: #333;">${place.description}</p>
                    ${place.transport ? `
                        <div class="transport-info">
                            <strong>‚¨áÔ∏è Jak d√°l:</strong> ${place.transport}
                        </div>
                    ` : ''}
                    
                    <div class="notes-section">
                        <div class="checkbox-group want-visit">
                            <input type="checkbox" class="want-visit-checkbox" 
                                ${placeNotes.wantVisit ? 'checked' : ''} 
                                onchange="saveNotes()">
                            <label>üëç Chceme nav≈°t√≠vit</label>
                        </div>
                        <div class="checkbox-group visited">
                            <input type="checkbox" class="visited-checkbox" 
                                ${placeNotes.visited ? 'checked' : ''} 
                                onchange="saveNotes()">
                            <label>‚úÖ Nav≈°t√≠veno</label>
                        </div>
                        <textarea class="note-textarea" placeholder="üìù Tvoje pozn√°mka..."
                            onchange="saveNotes()">${placeNotes.noteText || ''}</textarea>
                    </div>
                `;
                
                card.onclick = (e) => {
                    if (!e.target.matches('input, textarea')) {
                        markers.forEach(m => {
                            const pos = m.getLatLng();
                            if (pos.lat === place.gps[0] && pos.lng === place.gps[1]) {
                                m.openPopup();
                                map.setView(place.gps, 15);
                            }
                        });
                    }
                };
                
                container.appendChild(card);
            });
        }
        
        window.onload = () => {
            initMap();
            showDay(0);
        };
    </script>
</body>
</html>